# CausalEngine v2.0.5 Release Notes

## å‘å¸ƒæ—¥æœŸ
2024-12-27

## æ–°ç‰¹æ€§

### ğŸ§® CauchyMath å·¥å…·ç±»å¤§å¹…æ‰©å±•

åŸºäºç”¨æˆ·å»ºè®®ï¼Œæˆ‘ä»¬å¤§å¹…æ‰©å±•äº† `CauchyMath` å·¥å…·ç±»ï¼Œæ·»åŠ äº†å®Œæ•´çš„æŸ¯è¥¿åˆ†å¸ƒæ•°å­¦å‡½æ•°é›†åˆï¼Œä½¿å…¶æˆä¸ºä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„æŸ¯è¥¿åˆ†å¸ƒè®¡ç®—åº“ã€‚

#### æ–°å¢å‡½æ•°

**1. åŸºç¡€åˆ†å¸ƒå‡½æ•°**
- `cauchy_pdf(x, loc, scale)` - æ¦‚ç‡å¯†åº¦å‡½æ•°
  - æ•°å­¦å…¬å¼ï¼š$f(x) = \frac{1}{\pi \gamma [1 + ((x-\mu)/\gamma)^2]}$
  
- `cauchy_cdf(x, loc, scale)` - ç´¯ç§¯åˆ†å¸ƒå‡½æ•°
  - æ•°å­¦å…¬å¼ï¼š$F(x) = \frac{1}{2} + \frac{1}{\pi}\arctan\left(\frac{x-\mu}{\gamma}\right)$
  
- `cauchy_survival(x, loc, scale)` - ç”Ÿå­˜å‡½æ•°
  - æ•°å­¦å…¬å¼ï¼š$S(x) = P(X > x) = \frac{1}{2} - \frac{1}{\pi}\arctan\left(\frac{x-\mu}{\gamma}\right)$

**2. é«˜çº§æ•°å€¼å‡½æ•°**
- `cauchy_log_pdf(x, loc, scale)` - å¯¹æ•°æ¦‚ç‡å¯†åº¦å‡½æ•°
  - ç”¨äºæ•°å€¼ç¨³å®šçš„ä¼¼ç„¶è®¡ç®—
  - æ•°å­¦å…¬å¼ï¼š$\log f(x) = -\log(\pi) - \log(\gamma) - \log(1 + ((x-\mu)/\gamma)^2)$

- `cauchy_quantile(p, loc, scale)` - åˆ†ä½å‡½æ•°ï¼ˆé€†CDFï¼‰
  - ç”¨äºä»å‡åŒ€åˆ†å¸ƒé‡‡æ ·ç”ŸæˆæŸ¯è¥¿åˆ†å¸ƒæ ·æœ¬
  - æ•°å­¦å…¬å¼ï¼š$F^{-1}(p) = \mu + \gamma \cdot \tan(\pi(p - 1/2))$

#### ä½¿ç”¨ç¤ºä¾‹

```python
from causal_engine import CauchyMath
import torch

# æ ‡å‡†æŸ¯è¥¿åˆ†å¸ƒ
loc, scale = torch.tensor(0.0), torch.tensor(1.0)
x = torch.tensor(1.0)

# åŸºç¡€å‡½æ•°
pdf = CauchyMath.cauchy_pdf(x, loc, scale)        # 0.1592
cdf = CauchyMath.cauchy_cdf(x, loc, scale)        # 0.75
survival = CauchyMath.cauchy_survival(x, loc, scale)  # 0.25

# é«˜çº§å‡½æ•°
log_pdf = CauchyMath.cauchy_log_pdf(x, loc, scale)   # -1.8379
quantile = CauchyMath.cauchy_quantile(torch.tensor(0.75), loc, scale)  # 1.0

# é‡‡æ ·
uniform_samples = torch.rand(1000)
cauchy_samples = CauchyMath.cauchy_quantile(uniform_samples, loc, scale)
```

## éªŒè¯ä¸æµ‹è¯•

### ğŸ§ª å®Œæ•´æ•°å­¦éªŒè¯

æ–°å¢æµ‹è¯•è„šæœ¬ `scripts/test_cauchy_math.py`ï¼ŒåŒ…å«ä»¥ä¸‹éªŒè¯ï¼š

1. **åŸºæœ¬æ€§è´¨éªŒè¯** âœ…
   - PDF ç§¯åˆ† â‰ˆ 1.0
   - CDF + Survival = 1.0
   - CDF(Î¼) = 0.5

2. **åˆ†ä½å‡½æ•°ä¸CDFäº’é€†æ€§** âœ…
   - æœ€å¤§è¯¯å·® < 3e-08
   - å®Œç¾çš„æ•°å­¦ä¸€è‡´æ€§

3. **å‚æ•°å½±å“åˆ†æ** âœ…
   - ä½ç½®å‚æ•°Î¼çš„å½±å“
   - å°ºåº¦å‚æ•°Î³çš„å½±å“

4. **çº¿æ€§ç¨³å®šæ€§** âœ…
   - éªŒè¯ç°æœ‰çš„çº¿æ€§å˜æ¢å‡½æ•°
   - è¯¯å·® < 1e-16

5. **é‡‡æ ·ä¸€è‡´æ€§** âœ…
   - ç»éªŒCDF vs ç†è®ºCDF
   - è¯¯å·® < 2%

6. **æ•°å€¼ç¨³å®šæ€§** âœ…
   - æç«¯å€¼æµ‹è¯• (Â±100)
   - æ‰€æœ‰å‡½æ•°è¿”å›æœ‰é™å€¼

7. **å¯è§†åŒ–éªŒè¯** âœ…
   - è‡ªåŠ¨ç”Ÿæˆåˆ†å¸ƒå›¾
   - éªŒè¯ä¸åŒå‚æ•°çš„å½±å“

### ğŸ“Š æµ‹è¯•ç»“æœæ‘˜è¦

```
ğŸ“‹ æµ‹è¯•æ€»ç»“:
âœ… åŸºæœ¬æ€§è´¨éªŒè¯
âœ… åˆ†ä½å‡½æ•°ä¸CDFäº’é€†æ€§  
âœ… å‚æ•°å½±å“åˆ†æ
âœ… çº¿æ€§ç¨³å®šæ€§
âœ… é‡‡æ ·ä¸€è‡´æ€§
âœ… æ•°å€¼ç¨³å®šæ€§
âœ… å¯è§†åŒ–éªŒè¯
```

## å·¥ç¨‹æ”¹è¿›

### ğŸ“š æ–‡æ¡£å®Œå–„

- **ä»£ç æ³¨é‡Š**ï¼šæ‰€æœ‰æ–°å‡½æ•°éƒ½åŒ…å«è¯¦ç»†çš„æ•°å­¦å…¬å¼å’Œç”¨é€”è¯´æ˜
- **ç±»å‹æç¤º**ï¼šå®Œæ•´çš„ PyTorch Tensor ç±»å‹æ³¨è§£
- **ç”¨æ³•ç¤ºä¾‹**ï¼šæ¯ä¸ªå‡½æ•°éƒ½æœ‰æ¸…æ™°çš„ä½¿ç”¨ç¤ºä¾‹

### ğŸ”§ API è®¾è®¡

- **ç»Ÿä¸€æ¥å£**ï¼šæ‰€æœ‰å‡½æ•°éƒ½éµå¾ª `(x, loc, scale)` çš„å‚æ•°é¡ºåº
- **å¹¿æ’­æ”¯æŒ**ï¼šæ”¯æŒæ ‡é‡å’Œå¼ é‡çš„çµæ´»ç»„åˆ
- **æ•°å€¼ç¨³å®š**ï¼šç‰¹åˆ«ä¼˜åŒ–äº†æç«¯å€¼çš„å¤„ç†

## åº”ç”¨ä»·å€¼

### ğŸ¯ å®é™…ç”¨é€”

1. **æŸå¤±å‡½æ•°è®¾è®¡**ï¼š`cauchy_log_pdf` å¯ç”¨äºè®¾è®¡æŸ¯è¥¿åˆ†å¸ƒçš„è´Ÿå¯¹æ•°ä¼¼ç„¶æŸå¤±
2. **é‡‡æ ·å’Œç”Ÿæˆ**ï¼š`cauchy_quantile` æ”¯æŒé«˜æ•ˆçš„é€†å˜æ¢é‡‡æ ·
3. **æ¦‚ç‡è®¡ç®—**ï¼š`cauchy_cdf` å’Œ `cauchy_survival` ç”¨äºç²¾ç¡®çš„æ¦‚ç‡è®¡ç®—
4. **ç»Ÿè®¡åˆ†æ**ï¼šå®Œæ•´çš„åˆ†å¸ƒå‡½æ•°é›†åˆæ”¯æŒæ·±å…¥çš„ç»Ÿè®¡åˆ†æ

### ğŸ”¬ ç ”ç©¶æ”¯æŒ

- **ç†è®ºéªŒè¯**ï¼šç ”ç©¶äººå‘˜å¯ä»¥éªŒè¯æŸ¯è¥¿åˆ†å¸ƒçš„æ•°å­¦æ€§è´¨
- **ç®—æ³•å¼€å‘**ï¼šä¸ºæ–°çš„å› æœæ¨ç†ç®—æ³•æä¾›æ•°å­¦å·¥å…·
- **æ•™å­¦è¾…åŠ©**ï¼šå¯ç”¨äºæ•™å­¦æ¼”ç¤ºæŸ¯è¥¿åˆ†å¸ƒçš„ç‰¹æ€§

## å…¼å®¹æ€§

- **å®Œå…¨å‘åå…¼å®¹**ï¼šç°æœ‰ä»£ç æ— éœ€ä¿®æ”¹
- **æ— ä¾èµ–å¢åŠ **ï¼šä»…ä½¿ç”¨ PyTorch å†…ç½®å‡½æ•°
- **æ€§èƒ½ä¼˜åŒ–**ï¼šæ‰€æœ‰å‡½æ•°éƒ½æ”¯æŒ GPU åŠ é€Ÿ

## æœªæ¥å±•æœ›

CauchyMath ç°åœ¨æ˜¯ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„æŸ¯è¥¿åˆ†å¸ƒè®¡ç®—åº“ï¼Œä¸º CausalEngine çš„æ•°å­¦åŸºç¡€æä¾›äº†å¼ºå¤§æ”¯æŒã€‚è¿™ä¸ºæœªæ¥çš„æ‰©å±•å¥ å®šäº†åšå®åŸºç¡€ï¼š

- æ”¯æŒæ›´å¤æ‚çš„åˆ†å¸ƒè®¡ç®—
- ä¾¿äºå®ç°æ–°çš„æ¿€æ´»å‡½æ•°
- ä¸ºç ”ç©¶å’Œæ•™å­¦æä¾›å®Œæ•´å·¥å…·

## è‡´è°¢

æ„Ÿè°¢ç”¨æˆ·çš„å®è´µå»ºè®®ï¼Œæ¨åŠ¨äº†è¿™æ¬¡é‡è¦çš„åŠŸèƒ½æ‰©å±•ï¼ 